apply plugin: 'com.android.library'
//apply plugin: 'com.huawei.agconnect'

android {
    compileSdkVersion 29

    defaultConfig {
        minSdkVersion 19
        targetSdkVersion 29
        versionCode 1
        versionName "1.0"
    }
}

dependencies {
    implementation ':Corona@aar'
    implementation 'com.huawei.hms:hianalytics:5.0.3.300'
    implementation 'com.huawei.agconnect:agconnect-remoteconfig:1.4.1.300'
}

task extractPluginFromAAR(type: Copy) {
    group "Corona"
    dependsOn "assembleRelease"
    from {
        zipTree("build/outputs/aar/${project.name}-release.aar").matching { include '**/classes.jar' }.singleFile
    }
    into('build/outputs')
    rename ('classes.jar', 'plugin.huaweiRemoteConfig.jar')
}
